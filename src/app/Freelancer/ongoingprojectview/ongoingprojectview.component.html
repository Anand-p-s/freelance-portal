<section class="job-single-content section-padding">
  <div class="container" *ngFor="let data of workDataArray">
    <div class="row">
      <h4>Project Details</h4>

      <div class="col-lg-8">
        <div class="main-content">
          <div class="single-content1">
            <div class="single-job mb-4 d-lg-flex justify-content-between">
              <div class="job-text">
                <h4>{{ data.title }}</h4>
                <ul class="mt-4">
                  <li class="mb-3">
                    <h5><i class="fa fa-table"></i> {{ data.categoryname }}</h5>
                  </li>
                  <li class="mb-3">
                    <h5><i class="fa fa-list"></i> {{ data.subcategory }}</h5>
                  </li>
                  <li>
                    <h5>
                      <i class="fa fa-calendar"></i> Posted on:
                      {{ data.postdate | date : "dd-MM-yyyy" }}
                    </h5>
                  </li>
                  <li>
                    <h5>
                      <i class="fa fa-clock-o"></i> Deadline:
                      {{ data.deadlinedate | date : "dd-MM-yyyy" }}
                    </h5>
                  </li>
                  <li class="mb-3">
                    <h5><i class="fa fa-inr"></i> {{ data.cost }}</h5>
                  </li>
                </ul>
              </div>
            </div>
          </div>

          <div class="single-content5 py-4">
            <h4>Client Contact Details</h4>
            <p><i class="fa fa-user"></i> {{ data.companyname }}</p>
            <ul class="mt-3">
              <li class="mb-2">
                <i class="fa fa-envelope"></i> {{ data.email }}
              </li>
              <li class="mb-2"><i class="fa fa-phone"></i> {{ data.phone }}</li>
            </ul>
          </div>
        </div>
      </div>
      <div class="col-lg-4" style="padding-top: 10px">
        <div *ngFor="let data of progressDataArray">
          <div class="typography">
            <h4 class="typo-list">progress bar</h4>
          </div>
          <div class="progress">
            <div class="progress-bar" role="progressbar" [style.width.%]="data.progress_percentage"
              [style.background-color]="data.progress_percentage <= 35 ? 'orange' : (data.progress_percentage > 35 && data.progress_percentage <= 75 ? 'blue' : 'green')"
              [attr.aria-valuenow]="data.progress_percentage" aria-valuemin="0" aria-valuemax="100">
              {{data.progress_percentage}}
            </div>
          </div>
          <br><br>
          <div class="typography">
            <h4 class="typo-list">Current status</h4>
            <p> {{data.progress_description}}</p>
          </div>
        </div>
        <br>
        <div class="main-content">
          <h4 style="text-align: center">progress updation</h4>
          <form [formGroup]="progressUpdateForm">
            <div class="mt-10">
              <input type="number" formControlName="percentage" placeholder="type progress percentage"
                onfocus="this.placeholder = ''" onblur="this.placeholder = 'type progress percentage'" required
                class="single-input" />
              <div
                *ngIf="progressUpdateForm.controls['percentage'].invalid && (progressUpdateForm.controls['percentage'].dirty || progressUpdateForm.controls['percentage'].touched) || validationstatus">
                <div *ngIf="progressUpdateForm.controls['percentage'].errors['required']" style="color: red;">
                  please fill this</div>
                <div *ngIf="progressUpdateForm.controls['percentage'].errors['pattern']" style="color: red;">
                  values only from 0 to 100
                </div>
              </div>
            </div>
            <div class="mt-10">
              <textarea class="single-textarea" formControlName="progress_desc"
                placeholder="(provide a brief description)" onfocus="this.placeholder = ''"
                onblur="this.placeholder = '(provide a brief description)'" required></textarea>
            </div>
            <br />
            <button class="genric-btn success-border circle" (click)="updateProgress()">
              update progress
            </button>
          </form>
        </div>
      </div>
    </div>
  </div>
</section>